(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c5fab010"],{"0a26":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("ad06"),o=n("78eb"),s=n("9884"),a=n("ea8e"),c=function(t){var e=t.parent,n=t.bem,c=t.role;return{mixins:[Object(s["a"])(e),o["a"]],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},direction:function(){return this.parent&&this.parent.direction||null},iconStyle:function(){var t=this.checkedColor||this.parent&&this.parent.checkedColor;if(t&&this.checked&&!this.isDisabled)return{borderColor:t,backgroundColor:t}},tabindex:function(){return this.isDisabled||"radio"===c&&!this.checked?-1:0}},methods:{onClick:function(t){var e=this,n=t.target,i=this.$refs.icon,o=i===n||(null==i?void 0:i.contains(n));this.isDisabled||!o&&this.labelDisabled?this.$emit("click",t):(this.toggle(),setTimeout((function(){e.$emit("click",t)})))},genIcon:function(){var t=this.$createElement,e=this.checked,o=this.iconSize||this.parent&&this.parent.iconSize;return t("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:e}]),style:{fontSize:Object(a["a"])(o)}},[this.slots("icon",{checked:e})||t(i["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var t=this.$createElement,e=this.slots();if(e)return t("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[e])}},render:function(){var t=arguments[0],e=[this.genIcon()];return"left"===this.labelPosition?e.unshift(this.genLabel()):e.push(this.genLabel()),t("div",{attrs:{role:c,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n([{disabled:this.isDisabled,"label-disabled":this.labelDisabled},this.direction]),on:{click:this.onClick}},[e])}}}},2381:function(t,e,n){},"417e":function(t,e,n){"use strict";var i=n("d282"),o=n("0a26"),s=Object(i["a"])("checkbox"),a=s[0],c=s[1];e["a"]=a({mixins:[Object(o["a"])({bem:c,role:"checkbox",parent:"vanCheckbox"})],computed:{checked:{get:function(){return this.parent?-1!==this.parent.value.indexOf(this.name):this.value},set:function(t){this.parent?this.setParentValue(t):this.$emit("input",t)}}},watch:{value:function(t){this.$emit("change",t)}},methods:{toggle:function(t){var e=this;void 0===t&&(t=!this.checked),clearTimeout(this.toggleTask),this.toggleTask=setTimeout((function(){e.checked=t}))},setParentValue:function(t){var e=this.parent,n=e.value.slice();if(t){if(e.max&&n.length>=e.max)return;-1===n.indexOf(this.name)&&(n.push(this.name),e.$emit("input",n))}else{var i=n.indexOf(this.name);-1!==i&&(n.splice(i,1),e.$emit("input",n))}}}})},"453b":function(t,e,n){"use strict";var i=n("d282"),o=n("0b33"),s=n("5e46"),a=n("565f"),c=n("b650"),r=n("b1d2"),l=n("68ed"),u=n("417e"),d=Object(i["a"])("coupon"),h=d[0],p=d[1],b=d[2];function f(t){return t<Math.pow(10,12)?1e3*t:+t}function g(t){var e=new Date(f(t));return e.getFullYear()+"."+Object(l["b"])(e.getMonth()+1)+"."+Object(l["b"])(e.getDate())}function m(t){return(t/10).toFixed(t%10===0?0:1)}function v(t){return(t/100).toFixed(t%100===0?0:t%10===0?1:2)}var y=h({props:{coupon:Object,chosen:Boolean,disabled:Boolean,currency:{type:String,default:"¥"}},computed:{validPeriod:function(){var t=this.coupon,e=t.startAt,n=t.endAt,i=t.customValidPeriod;return i||g(e)+" - "+g(n)},faceAmount:function(){var t=this.coupon;if(t.valueDesc)return t.valueDesc+"<span>"+(t.unitDesc||"")+"</span>";if(t.denominations){var e=v(t.denominations);return"<span>"+this.currency+"</span> "+e}return t.discount?b("discount",m(t.discount)):""},conditionMessage:function(){var t=v(this.coupon.originCondition);return"0"===t?b("unlimited"):b("condition",t)}},render:function(){var t=arguments[0],e=this.coupon,n=this.disabled,i=n&&e.reason||e.description;return t("div",{class:p({disabled:n})},[t("div",{class:p("content")},[t("div",{class:p("head")},[t("h2",{class:p("amount"),domProps:{innerHTML:this.faceAmount}}),t("p",{class:p("condition")},[this.coupon.condition||this.conditionMessage])]),t("div",{class:p("body")},[t("p",{class:p("name")},[e.name]),t("p",{class:p("valid")},[this.validPeriod]),!this.disabled&&t(u["a"],{attrs:{size:18,value:this.chosen,checkedColor:r["h"]},class:p("corner")})])]),i&&t("p",{class:p("description")},[i])])}}),x=Object(i["a"])("coupon-list"),C=x[0],k=x[1],B=x[2],w="https://img01.yzcdn.cn/vant/coupon-empty.png";e["a"]=C({model:{prop:"code"},props:{code:String,closeButtonText:String,inputPlaceholder:String,enabledTitle:String,disabledTitle:String,exchangeButtonText:String,exchangeButtonLoading:Boolean,exchangeButtonDisabled:Boolean,exchangeMinLength:{type:Number,default:1},chosenCoupon:{type:Number,default:-1},coupons:{type:Array,default:function(){return[]}},disabledCoupons:{type:Array,default:function(){return[]}},displayedCouponIndex:{type:Number,default:-1},showExchangeBar:{type:Boolean,default:!0},showCloseButton:{type:Boolean,default:!0},showCount:{type:Boolean,default:!0},currency:{type:String,default:"¥"},emptyImage:{type:String,default:w}},data:function(){return{tab:0,winHeight:window.innerHeight,currentCode:this.code||""}},computed:{buttonDisabled:function(){return!this.exchangeButtonLoading&&(this.exchangeButtonDisabled||!this.currentCode||this.currentCode.length<this.exchangeMinLength)},listStyle:function(){return{height:this.winHeight-(this.showExchangeBar?140:94)+"px"}}},watch:{code:function(t){this.currentCode=t},currentCode:function(t){this.$emit("input",t)},displayedCouponIndex:"scrollToShowCoupon"},mounted:function(){this.scrollToShowCoupon(this.displayedCouponIndex)},methods:{onClickExchangeButton:function(){this.$emit("exchange",this.currentCode),this.code||(this.currentCode="")},scrollToShowCoupon:function(t){var e=this;-1!==t&&this.$nextTick((function(){var n=e.$refs,i=n.card,o=n.list;o&&i&&i[t]&&(o.scrollTop=i[t].$el.offsetTop-100)}))},genEmpty:function(){var t=this.$createElement;return t("div",{class:k("empty")},[t("img",{attrs:{src:this.emptyImage}}),t("p",[B("empty")])])},genExchangeButton:function(){var t=this.$createElement;return t(c["a"],{attrs:{plain:!0,type:"danger",text:this.exchangeButtonText||B("exchange"),loading:this.exchangeButtonLoading,disabled:this.buttonDisabled},class:k("exchange"),on:{click:this.onClickExchangeButton}})}},render:function(){var t=this,e=arguments[0],n=this.coupons,i=this.disabledCoupons,r=this.showCount?" ("+n.length+")":"",l=(this.enabledTitle||B("enable"))+r,u=this.showCount?" ("+i.length+")":"",d=(this.disabledTitle||B("disabled"))+u,h=this.showExchangeBar&&e("div",{class:k("exchange-bar")},[e(a["a"],{attrs:{clearable:!0,border:!1,placeholder:this.inputPlaceholder||B("placeholder"),maxlength:"20"},class:k("field"),model:{value:t.currentCode,callback:function(e){t.currentCode=e}}}),this.genExchangeButton()]),p=function(e){return function(){return t.$emit("change",e)}},b=e(o["a"],{attrs:{title:l}},[e("div",{class:k("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[n.map((function(n,i){return e(y,{ref:"card",key:n.id,attrs:{coupon:n,currency:t.currency,chosen:i===t.chosenCoupon},nativeOn:{click:p(i)}})})),!n.length&&this.genEmpty(),this.slots("list-footer")])]),f=e(o["a"],{attrs:{title:d}},[e("div",{class:k("list",{"with-bottom":this.showCloseButton}),style:this.listStyle},[i.map((function(n){return e(y,{attrs:{disabled:!0,coupon:n,currency:t.currency},key:n.id})})),!i.length&&this.genEmpty(),this.slots("disabled-list-footer")])]);return e("div",{class:k()},[h,e(s["a"],{class:k("tab"),attrs:{border:!1},model:{value:t.tab,callback:function(e){t.tab=e}}},[b,f]),e("div",{class:k("bottom")},[e(c["a"],{directives:[{name:"show",value:this.showCloseButton}],attrs:{round:!0,type:"danger",block:!0,text:this.closeButtonText||B("close")},class:k("close"),on:{click:p(-1)}})])])}})},"54a3":function(t,e,n){},"78eb":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var i={inject:{vanField:{default:null}},watch:{value:function(){var t=this.vanField;t&&(t.resetValidation(),t.validateWithTrigger("onChange"))}},created:function(){var t=this.vanField;t&&!t.children&&(t.children=this)}}},8238:function(t,e,n){},ac3c:function(t,e,n){"use strict";var i=n("2638"),o=n.n(i),s=n("d282"),a=n("a142"),c=n("ba31"),r=n("7744"),l=Object(s["a"])("coupon-cell"),u=l[0],d=l[1],h=l[2];function p(t){var e=t.coupons,n=t.chosenCoupon,i=t.currency,o=e[+n];if(o){var s=0;return Object(a["c"])(o.value)?s=o.value:Object(a["c"])(o.denominations)&&(s=o.denominations),"-"+i+" "+(s/100).toFixed(2)}return 0===e.length?h("tips"):h("count",e.length)}function b(t,e,n,i){var s=e.coupons[+e.chosenCoupon],a=p(e);return t(r["a"],o()([{class:d(),attrs:{value:a,title:e.title||h("title"),border:e.border,isLink:e.editable,valueClass:d("value",{selected:s})}},Object(c["b"])(i,!0)]))}b.model={prop:"chosenCoupon"},b.props={title:String,coupons:{type:Array,default:function(){return[]}},currency:{type:String,default:"¥"},border:{type:Boolean,default:!0},editable:{type:Boolean,default:!0},chosenCoupon:{type:[Number,String],default:-1}},e["a"]=u(b)},b76c:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("54a3"),n("1a04"),n("ed61")},e324:function(t,e,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("2381"),n("54a3"),n("1a04"),n("1146"),n("e3b3"),n("bc1b"),n("f319"),n("ae9e"),n("b807"),n("8238")},ed61:function(t,e,n){}}]);